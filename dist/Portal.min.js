var t,e,r,a,i=this&&this.__classPrivateFieldSet||function(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r},n=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class o extends HTMLElement{constructor(){super(),t.set(this,void 0),e.set(this,void 0),r.set(this,void 0),a.set(this,void 0),i(this,e,void 0!==this.attributeStyleMap);const n="\n\t\t\t:host {\n\t\t\t\t--portal-width: 640px;\n\t\t\t\t--portal-height: 360px;\n\t\t\t\t--portal-max-width: 100%;\n\t\t\t\t--portal-max-height: 100vh;\n\t\t\t\t--portal-border-style: solid;\n\t\t\t\t--portal-border-width: 1px;\n\t\t\t\t--portal-border-color: currentColor;\n\t\t\t\t--portal-scale: .5;\n\t\t\t\t--portal-animation-duration: .5s;\n\t\t\t\t--portal-outline-style: solid;\n\t\t\t\t--portal-outline-width: 1px;\n\t\t\t\t--portal-outline-color: currentColor;\n\t\t\t\t--portal-outline-offset: 0px;\n\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: min(var(--portal-width), var(--portal-max-width));\n\t\t\t\theight: min(var(--portal-height), var(--portal-max-height));\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t@media (prefers-reduced-motion) {\n\t\t\t\t:host {\n\t\t\t\t\t--portal-animation-duration: 0.01s; /* '0s' にすると 'transitionend' イベントの検知ができなくなる */\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.portal {\n\t\t\t\tborder: calc(var(--portal-border-width) / var(--portal-scale)) var(--portal-border-style) var(--portal-border-color);\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: min(calc(var(--portal-width) / var(--portal-scale)), calc(var(--portal-max-width) / var(--portal-scale)));\n\t\t\t\theight: min(calc(var(--portal-height) / var(--portal-scale)), calc(var(--portal-max-height) / var(--portal-scale)));\n\t\t\t\ttransform: scale(var(--portal-scale));\n\t\t\t\ttransform-origin: 0 0;\n\t\t\t\ttransition: width var(--portal-animation-duration), height var(--portal-animation-duration), top var(--portal-animation-duration), left var(--portal-animation-duration), transform var(--portal-animation-duration);\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.portal:focus {\n\t\t\t\toutline: calc(var(--portal-outline-width) / var(--portal-scale)) var(--portal-outline-style) var(--portal-outline-color);\n\t\t\t\toutline-offset: calc(var(--portal-outline-offset) / var(--portal-scale));\n\t\t\t}\n\n\t\t\t.portal.-fullscreen {\n\t\t\t\t--portal-border-width: 0;\n\t\t\t\tposition: fixed;\n\t\t\t\twidth: 100vw !important;\n\t\t\t\theight: 100vh;\n\t\t\t\ttop: 0 !important;\n\t\t\t\tleft: 0 !important;\n\t\t\t\ttransform: none;\n\t\t\t\tz-index: 2147483647;\n\t\t\t}\n\t\t",o=this.attachShadow({mode:"open"});if(o.innerHTML='\n\t\t\t<portal id="portal" class="portal"></portal>\n\t\t',void 0!==o.adoptedStyleSheets){const t=new CSSStyleSheet;t.replaceSync(n),o.adoptedStyleSheets=[t]}else o.innerHTML+=`<style>${n}</style>`;i(this,t,this.shadowRoot?.getElementById("portal")),i(this,r,this._portalClickEvent.bind(this)),i(this,a,this._portalTrainsitionEndEvent.bind(this))}static get observedAttributes(){return["src","referrerpolicy"]}connectedCallback(){const e=n(this,t),i=this.src;null!==i&&(e.src=i);const o=this.referrerpolicy;null!==o&&(e.referrerPolicy=o),e.addEventListener("click",n(this,r),{passive:!0}),e.addEventListener("transitionend",n(this,a),{passive:!0})}disconnectedCallback(){const e=n(this,t);e.removeEventListener("click",n(this,r)),e.removeEventListener("transitionend",n(this,a))}attributeChangedCallback(e,r,a){switch(e){case"src":null!==a?n(this,t).src=a:n(this,t).removeAttribute("src");break;case"referrerpolicy":null!==a?n(this,t).referrerPolicy=a:n(this,t).removeAttribute("referrerpolicy")}}get src(){return this.getAttribute("src")}set src(t){null!==t&&this.setAttribute("src",t)}get referrerpolicy(){return this.getAttribute("referrerpolicy")}set referrerpolicy(t){null!==t&&this.setAttribute("referrerpolicy",t)}_portalClickEvent(){this._fullScreen()}_portalTrainsitionEndEvent(t){switch(t.propertyName){case"transform":this._activate()}}_fullScreen(){const r=n(this,t),a=r.getBoundingClientRect();n(this,e)?(r.attributeStyleMap.set("top",CSS.px(a.top)),r.attributeStyleMap.set("left",CSS.px(a.left)),r.attributeStyleMap.set("width",CSS.px(a.width))):(r.style.top=`${a.top}px`,r.style.left=`${a.left}px`,r.style.width=`${a.width}px`),setTimeout((()=>{r.classList.add("-fullscreen")}))}_activate(){n(this,t).activate()}}t=new WeakMap,e=new WeakMap,r=new WeakMap,a=new WeakMap;
//# sourceMappingURL=Portal.min.js.map